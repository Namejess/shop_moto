{% extends 'base.html.twig' %}

{% block body %}

	<header>
		<header>
			<!-- Navbar -->
			<nav class="navbar bg-gray-900 navbar-expand-lg shadow-md py-2 bg-white relative flex items-center w-full justify-between">
				<div class="px-6 w-full flex flex-wrap items-center justify-between">
					<div class="flex items-center">
						<button class="navbar-toggler border-0 py-3 lg:hidden leading-none text-xl bg-transparent text-gray-600 hover:text-gray-700 focus:text-gray-700 transition-shadow duration-150 ease-in-out mr-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContentY" aria-controls="navbarSupportedContentY" aria-expanded="false" aria-label="Toggle navigation">
							<svg aria-hidden="true" focusable="false" data-prefix="fas" class="w-5" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512">
								<path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path>
							</svg>
						</button>
					</div>
					<div class="navbar-collapse collapse grow items-center" id="navbarSupportedContentY">
						<ul class="navbar-nav mr-auto lg:flex lg:flex-row">
							<li class="nav-item">
								<a class="nav-link block pr-2 lg:px-2 py-2 text-gray-600 hover:text-gray-700 focus:text-gray-700 transition duration-150 ease-in-out" href="#!" data-mdb-ripple="true" data-mdb-ripple-color="light">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link block pr-2 lg:px-2 py-2 text-gray-600 hover:text-gray-700 focus:text-gray-700 transition duration-150 ease-in-out" href="{{path('app_vehicules')}}" data-mdb-ripple="true" data-mdb-ripple-color="light">Véhicules</a>
							</li>
							<li class="nav-item mb-2 lg:mb-0">
								<a class="nav-link block pr-2 lg:px-2 py-2 text-gray-600 hover:text-gray-700 focus:text-gray-700 transition duration-150 ease-in-out" href="{{path('app_vehicules')}}" data-mdb-ripple="true" data-mdb-ripple-color="light">About</a>
							</li>
							<li class="nav-item mb-2 lg:mb-0">
								<a class="nav-link block pr-2 lg:px-2 py-2 text-gray-600 hover:text-gray-700 focus:text-gray-700 transition duration-150 ease-in-out" href="{{ path ('app_logout')}}"  data-mdb-ripple=" true" data-mdb-ripple-color="light">Déconnexion</a>
							</li>

							<li class="nav-item mb-2 lg:mb-0">
								<a class="nav-link block pr-2 lg:px-2 py-2 text-gray-600 hover:text-gray-700 focus:text-gray-700 transition duration-150 ease-in-out" href="{{path('app_panier_index')}}" data-mdb-ripple="true" data-mdb-ripple-color="light">
									<i class="fa" style="font-size:24px">&#xf07a;</i>
									<span>
										{{panier|length}}</span>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- Navbar -->

			<!-- Background image -->
			<div class="relative overflow-hidden bg-no-repeat bg-cover" style="
													background-position: 50%;
													background-image: url('../../public/images/10844996.png');
													height: 350px;
													">
				<div class="absolute top-0 right-0 bottom-0 left-0 w-full h-full overflow-hidden bg-fixed" style="background-color: rgba(0, 0, 0, 0.75)">
					<div class="flex justify-center items-center h-full">
						<div class="text-center text-white px-6 md:px-12">
							<h1 class="text-5xl font-bold mt-0 mb-6">Shop Moto 54</h1>
							<button type="button" class="inline-block px-6 py-2.5 border-2 border-white text-white font-medium text-xs leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out" data-mdb-ripple="true" data-mdb-ripple-color="light">
								<a href="{{path('app_vehicules')}}">
									Nos motos
								</a>
							</button>
						</div>
					</div>
				</div>
			</div>
			<!-- End Background image -->
		</header>
	</header>


	{# <!-- ===== DEBUT LISTE MOTOS======= --> #}

	{% for moto in motos %}

		<div class="container my-12 mx-auto px-4 md:px-12  ">
			<div class="grid flex justify-center p-10 columns-3xs">
				<div class="rounded-lg shadow-lg bg-white max-w-sm">
					<a href="#!" data-mdb-ripple="true" data-mdb-ripple-color="light">
						<img class="rounded-t-lg" src="https://acidmoto.ch/cms/sites/default/files/img/alpha/c/chicara21.jpg" alt=""/>
					</a>
					<div class="grid columns-3 p-6 justify-center">
						<h5 class="text-gray-900 text-xl font-medium mb-2 text-center">{{ moto.Titre }}</h5>
						<p class="text-gray-700 text-base mb-4">
							{{ moto.Description | raw}}
						</p>
						<button type="button" class=" inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out">{{ moto.Prix}}
							€</button>

							{# =================== FONCTION AJAX ==================== #}

						<div class="flex justify-center items-center h-full pt-12">
	
								<input type="text" id="motos" value="{{moto.id}}">
								<input type="text" id="qte" value="1">
								<button type="button" onclick="testAjax()" href="{{path('app_panier_new')}}">
									<svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
									</svg>
								</button>
								<div id="resultAjax"></div>
								<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
								<script>
									function testAjax() {
										let prod = document.getElementById('motos').value;
										let quantite = document.getElementById('qte').value;
										$.ajax({
											type: "POST",
											url: "{{path('app_motos_testAjax')}}",
											data: {'motos':prod,'qte':quantite},
											success: function(valeur) {
												alert(valeur);
											} 
										});
										}
								</script

{# =================== FIN FONCTION AJAX ==================== #}
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</tbody></div>{% else %}<tr>
<td colspan="5">no records found</td></tr>{% endfor %}</tbody></tbody></table>

{% endblock %}
